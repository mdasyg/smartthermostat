<% provide(:title, 'Device Overview') %>

<div class="well">
  <h1>Overview</h1>
  <h1>
    <small><%= @device.name %> @  <%= @device.location %></small>
  </h1>
</div>

<!-- STATUS -->
<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Status</h3>
  </div>
  <div class="panel-body">
    <div>
      <strong>Last contact at:</strong>
      <%= @device.last_contact_at %>
    </div>
  </div>
</div>

<!-- PROPERTIES -->
<% if !@device.properties.empty? %>
  <div class="panel panel-default">

    <div class="panel-heading">
      <h3 class="panel-title">Properties</h3>
    </div>

    <div class="panel-body">

      <% @device.properties.each do |property| %>
        <div class="row">

          <div class="col-xs-4">
            <%= property.name %>
          </div>

          <div class="col-xs-4">
            <%= property.value %>
          </div>

          <div class="col-xs-4">
            <%= property.auto %>
          </div>

        </div>
      <% end %>

    </div>

  </div>
<% end %>

<!-- INFO -->
<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">System info for device</h3>
  </div>
  <div class="panel-body">

    <div>
      <strong>Description:</strong>
      <%= @device.description %>
    </div>

    <div>
      <strong>Serial No:</strong>
      <%= @device.uid %>
    </div>

    <div>
      <strong>Access token:</strong>
      <%= @device.access_token %>
    </div>

  </div>
</div>

<!-- INFO FROM DEVICE -->
<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Device info</h3>
  </div>
  <div class="panel-body">

    <% @device.device_stats.each do |stat| %>

      <div class="row">

        <div class="col-xs-4">
          <%= stat.label %>:
        </div>

        <div class="col-xs-4">
          <%= stat.value %>
        </div>

        <div class="col-xs-4">
          (<%= stat.last_update_at %>)
        </div>

      </div>

    <% end %>

  </div>
</div>

<!-- DEVICE'S SCHEDULES -->
<div class="panel panel-default">
  <div class="panel-heading">
    <h3 class="panel-title">Device's schedules</h3>
  </div>
  <div class="panel-body">

  </div>
</div>

<%= link_to 'Edit', edit_device_path(@device) %> |
<%= link_to 'Back', devices_path %>
